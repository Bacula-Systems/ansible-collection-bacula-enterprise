Dedupengine {
  Name = {{ sdplugin }}-Dedupengine
  Dedup Directory = {{ dedup_directories[1] }}
  Dedup Index Directory = {{ dedup_directories[0] }}
  Driver = Legacy
  MaximumContainerSize = 2TB
}


Autochanger {
  Name = {{ sdplugin }}-Chgr
  Device = {{ sdplugin }}Chgr-Dev0, {{ sdplugin }}Chgr-Dev1
  Changer Command = ""
  Changer Device = /dev/null
}

Device {
  Name = {{ sdplugin }}Chgr-Dev0
  Device Type = dedup
  DriveIndex = 0
  Dedupengine = {{ sdplugin }}-Dedupengine
  Media Type = {{ sdplugin }}-volume
  Archive Device = "{{ volumes_directory }}"
  LabelMedia = yes;                   # lets Bacula label unlabeled media
  Random Access = Yes;
  AutomaticMount = yes;               # when device opened, read it
  RemovableMedia = no;
  AlwaysOpen = no;
  Maximum Concurrent Jobs = 5
}

Device {
  Name = {{ sdplugin }}Chgr-Dev1
  Device Type = dedup
  DriveIndex = 1
  Dedupengine = {{ sdplugin }}-Dedupengine
  Media Type = {{ sdplugin }}-volume
  Archive Device = "{{ volumes_directory }}"
  LabelMedia = yes;                   # lets Bacula label unlabeled media
  Random Access = Yes;
  AutomaticMount = yes;               # when device opened, read it
  RemovableMedia = no;
  AlwaysOpen = no;
  Maximum Concurrent Jobs = 5
}
